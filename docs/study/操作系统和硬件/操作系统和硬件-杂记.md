# 操作系统和硬件-杂记

## 1. CPU

### 1.1 寄存器和缓存

> [cpu寄存器和缓存](https://blog.csdn.net/weixin_41490593/article/details/91447141)
>
> [cpu中的四级缓存有什么作用呢？](http://ask.zol.com.cn/q/2865556.html)

## 2. Linux

### 2.1 用户态和内核态

> [linux之用户态和内核态](https://www.cnblogs.com/cyyz-le/p/10962818.html)

### 2.2 系统调用

> [你真的知道什么是系统调用吗？](https://www.jianshu.com/p/9c62a65b6162)
>
> 辅助知识
>
> [问下 电脑所说的什么32位 64位是什么意思啊？](https://zhidao.baidu.com/question/744264837762178692.html?qbl=relate_question_2&word=32%CE%BB%BA%CD64%CE%BB%CA%C7%B8%F9%BE%DD%CA%B2%C3%B4%C0%B4%CB%E3%B5%C4)
>
> [Linux用户空间与内核空间（理解高端内存）](https://www.cnblogs.com/wuchanming/p/4360277.html)
>
> [Linux 中的各种栈：进程栈 线程栈 内核栈 中断栈](https://blog.csdn.net/yangkuanqaz85988/article/details/52403726)
>
> 

​	现代CPU通常有多种特权级别，一般总共4总，Ring0（最高特权）到Ring3（最低特权），Linux只用Ring0（内核态）和Ring3（用户态）。

​	操作系统通过"**中断**"来切换"用户态"和"内核态"。

*（==个人感觉内核态和用户态类似内存划分的”用户进程空间“和“内核空间”==，只不过前者针对CPU，后者针对内存资源的使用。32位操作系统，CPU理论一次性能处理32bit数据，而逻辑上寻址即2^32byte也就是4G。而其中0-3G即用户空间，3-4G即内核空间，而3-4G的内核空间虽然就1G，但这个是逻辑地址，经过段页式地址映射后才是真正的物理地址。内核空间通过段页式映射，能访问到所有真正的物理内存，而用户进程只访问对应3G内存，前面这些都是指x86 CPU--32位操作系统。64位不一样，不过思想上一致）*

​	中断一般包含两个属性："**中断号**"和"**中断处理程序**"。内核通过"中断向量表"查找中断号和中断处理程序对应关系。遇到中断时，CPU暂停当前执行的指令，根据中断号查找对应的中断处理程序并调用，中断处理程序调用完成后，再继续执行之前暂停执行的指令。

​	中断分两种："**硬件中断**"和"**软件中断**"。软件中断就是我们的应用程序所使用的中断，往往是一条指令，比如在i386 CPU处理器，对应指令即int，int 0x80表示调用第0x80号中断处理程序。

